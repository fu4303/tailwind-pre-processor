/**
 * [Utility First Class (Less Version)]
 * Property: background-color
 * Author: xiaoluoboding
 * Code for fun!
 */

// generate all palette colors
.background-all(@list, @mode, @i: 1) when (@i <= length(@list)) {
  @prefix: extract(extract(@list, @i), 1);

  @colorName: e(replace(@prefix, 'bg-', ''));

  // If this is the first iteration
  & when (@i = 1) {
    .class-generator(
      @theme[@colors][@common],
      extract(@list, @i),
      @variants[@backgroundColor],
      @mode
    );
  }

  & when (@i > 1) {
    .class-generator(
      @theme[@colors][@@colorName],
      extract(@list, @i),
      @variants[@backgroundColor],
      @mode
    );
  }

  .background-all(@list, @mode, @i + 1);
}

.background-all(@preset[@backgroundColor], 'default');

.background-all(@preset[@backgroundColor], 'variant');
