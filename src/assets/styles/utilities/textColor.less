/**
 * [Utility First Class (Less Version)]
 * Property: color
 * Author: xiaoluoboding
 * Code for fun!
 */

// generate all palette colors
.color-all(@list, @mode, @i: 1) when (@i <= length(@list)) {
  @prefix: extract(extract(@list, @i), 1);

  @colorName: e(replace(@prefix, 'text-', ''));

  // If this is the first iteration
  & when (@i = 1) {
    .class-generator(
      @theme[@colors][@common],
      extract(@list, @i),
      @variants[@textColor],
      @mode
    );
  }

  & when (@i > 1) {
    .class-generator(
      @theme[@colors][@@colorName],
      extract(@list, @i),
      @variants[@textColor],
      @mode
    );
  }

  .color-all(@list, @mode, @i + 1);
}

.color-all(@preset[@textColor], 'default');

.color-all(@preset[@textColor], 'variant');
